# Contributor: Carlo Landmeter <clandmeter@gmail.com>
# Maintainer: Carlo Landmeter <clandmeter@gmail.com>
pkgname=paper-gtk-theme
pkgver=2.1.0
pkgrel=1
pkgdesc="Paper Theme Suite"
url="http://snwh.org/paper"
arch="noarch"
options="!strip"
license="GPL-3.0"
depends="gtk-murrine-engine"
makedepends="automake autoconf libtool"
install=""
subpackages=""
source="paper-gtk-theme-$pkgver.tar.gz::https://github.com/snwh/paper-gtk-theme/archive/v$pkgver.tar.gz

	0001-fixed-missing-asset.diff
	0002-toned-down-text-colour-in-gtk2.diff
	0003-added-a-dark-portion-to-the-gtk2-theme.diff
	0004-gtk2-dark-theme-wasn-t-working.diff
	0005-Create-org.snwh.paper.theme.desktop.diff
	0006-Update-org.snwh.paper.theme.desktop.diff
	0007-Reduced-minimum-size-of-topbar-icons.diff
"
builddir="$srcdir/paper-gtk-theme-$pkgver"

prepare() {
	default_prepare
	cd "$builddir"
	# use diff extension to manually apply binary patches with git
	for patch in $(echo "$source" | grep ".diff"); do
		msg "Applying $patch"
		git apply -p1 $startdir/$patch
	done
}

build() {
	cd "$builddir"
	autoreconf -vif
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		--sysconfdir=/etc \
		--mandir=/usr/share/man \
		--localstatedir=/var \
		|| return 1
	make || return 1
}

package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install || return 1
}

sha512sums="2ceffba42a03d897694d1a1f4817736f6750d393174582f4dc3d19ab5563988d521558d9d7c49a3075386999562907a3ae9eea2734a0f9f423e438c89756c65c  paper-gtk-theme-2.1.0.tar.gz
c217d76375a77ba7c5a3d6011a3ac5df3ad15cdf9aa495ce175626d0db4054d75b0760a1cb0071d76c4ae755889ac96f3fed8bc1f9402d29d97db6f719127ce7  0001-fixed-missing-asset.diff
a5e11657cb79a09a0a4f6fc58bad746a7c420b1987d15daed78aeafcebe777b5128ee39a762c601954b8729ef71797090d9888532c26bad56c9744143e28b3de  0002-toned-down-text-colour-in-gtk2.diff
6af906b47a7c4f12896af42be89bb0ed68f7ad97f2cf7476e77ccc637300f60ad593862b057c51635999b7efc093490f94961714a39ed4065f234956027b7423  0003-added-a-dark-portion-to-the-gtk2-theme.diff
fd427a12e941004b2e2a79fb9cafd07c9733809961cffc8b67d191745efb0f01c283b63f2314990005aaa338136b6bc81af41ebe43edbc705ede28d6508b2303  0004-gtk2-dark-theme-wasn-t-working.diff
72943b3bcc19b302745862d386e3dbe72c6d34c09aaec9fcbf5f580a934cd88c2180bd4aacb002410183cd0baa44acb21d3bd9a7c476142838e2bb47aa51b825  0005-Create-org.snwh.paper.theme.desktop.diff
994b2da9c26e7cf25cc5b192701b2306242869fecf98b2be8a4e105a128b2ff2f45cb4eb073091f7edc17e6a25db894a8d1b138f001e946208c63807c0178ed4  0006-Update-org.snwh.paper.theme.desktop.diff
aa236c1de2fd911f53b1e287cfc6d0706bd99fc5c006f676047435ee2cf46b7e3b56847202e4a4df5c994ec83d0e0da7083d9657f74e21ea0bfece6681c98d13  0007-Reduced-minimum-size-of-topbar-icons.diff"
